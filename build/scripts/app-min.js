'use strict';var cards=document.querySelectorAll('.main__card'),cardsIcons=document.querySelectorAll('.card__icon'),buttonNewGame=document.querySelector('.main__new-game'),numberOfTurns=document.querySelector('.main__turns'),shuffleCards=function(){var e=['maki-airport','maki-art-gallery','maki-bar','maki-baseball','maki-cinema','maki-college','maki-harbor','maki-town-hall'];(function(e){for(var t=e.slice(0),a=e.length-1;a>0;a-=1){var s=Math.floor(Math.random()*(a+1)),c=t[a];t[a]=t[s],t[s]=c}return t})([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]).forEach(function(t,a){cardsIcons[t].className=a%2==0?'card__icon '+e[a/2]:'card__icon '+e[(a-1)/2]})},printMoves=function(e){numberOfTurns.textContent=e+(1===e?' Move':' Moves')};!function(){var e=null,t=0,a=!0,s=function(s){e&&a?s.target===e?(e.classList.remove('card__flipped'),a=!1,e=null,printMoves(t+=1),setTimeout(function(){a=!0},300)):s.target.querySelector('.card__icon').className===e.querySelector('.card__icon').className?(s.target.classList.add('card__flipped'),a=!1,setTimeout(function(){s.target.classList.add('shake'),e.classList.add('shake'),e=null,setTimeout(function(){a=!0},300)},700),s.target.classList.add('card__no-events'),e.classList.add('card__no-events'),printMoves(t+=1)):(s.target.classList.add('card__flipped'),a=!1,setTimeout(function(){s.target.classList.add('shake'),e.classList.add('shake'),setTimeout(function(){e.classList.remove('shake'),s.target.classList.remove('shake'),setTimeout(function(){e.classList.remove('card__flipped'),s.target.classList.remove('card__flipped'),e=null,setTimeout(function(){a=!0},200)},100)},700)},700),printMoves(t+=1)):a&&(e=s.target,a=!1,e.classList.add('card__flipped'),setTimeout(function(){a=!0},300))},c=function(){e=null,t=0,shuffleCards(),printMoves(t),a=!1,cards.forEach(function(e){e.classList.remove('shake','card__flipped','card__no-events'),setTimeout(function(){e.classList.add('card__flipped'),setTimeout(function(){e.classList.remove('card__flipped'),setTimeout(function(){a=!0},300)},2e3)},0)})};buttonNewGame.addEventListener('click',c),cards.forEach(function(e){e.addEventListener('click',s)}),c()}();