'use strict';var cards=document.querySelectorAll('.main__card'),cardsIcons=document.querySelectorAll('.card__icon'),buttonNewGame=document.querySelector('.main__new-game'),numberOfTurns=document.querySelector('.main__turns'),shuffleCards=function(){var e=['maki-airport','maki-art-gallery','maki-bar','maki-baseball','maki-cinema','maki-college','maki-harbor','maki-town-hall'];(function(e){for(var t=e.slice(0),a=e.length-1;a>0;a-=1){var s=Math.floor(Math.random()*(a+1)),c=t[a];t[a]=t[s],t[s]=c}return t})([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]).forEach(function(t,a){cardsIcons[t].className=a%2==0?'card__icon '+e[a/2]:'card__icon '+e[(a-1)/2]})},printMoves=function(e){numberOfTurns.textContent=e+(1===e?' Move':' Moves')};!function(){var e=null,t=0,a=!0;buttonNewGame.addEventListener('click',function(){e=null,t=0,!0;var s=function s(c){e&&a?c.target===e?(e.classList.remove('card__flipped'),a=!1,e=null,printMoves(t+=1),setTimeout(function(){a=!0},300)):c.target.querySelector('.card__icon').className===e.querySelector('.card__icon').className?(c.target.classList.add('card__flipped'),a=!1,setTimeout(function(){c.target.classList.add('shake'),e.classList.add('shake'),e=null,setTimeout(function(){a=!0},300)},700),c.target.removeEventListener('click',s),e.removeEventListener('click',s),printMoves(t+=1)):(c.target.classList.add('card__flipped'),a=!1,setTimeout(function(){c.target.classList.add('shake'),e.classList.add('shake'),setTimeout(function(){e.classList.remove('shake'),c.target.classList.remove('shake'),setTimeout(function(){e.classList.remove('card__flipped'),c.target.classList.remove('card__flipped'),e=null,setTimeout(function(){a=!0},300)},100)},700)},700),printMoves(t+=1)):a&&(e=c.target,a=!1,e.classList.add('card__flipped'),setTimeout(function(){a=!0},300))};shuffleCards(),printMoves(t),a=!1,cards.forEach(function(e){e.classList.remove('shake','card__flipped'),setTimeout(function(){e.classList.add('card__flipped'),setTimeout(function(){e.classList.remove('card__flipped'),setTimeout(function(){a=!0},300)},1e3)},0)}),cards.forEach(function(e){e.removeEventListener('click',s),e.addEventListener('click',s)})})}();